!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Button=e()}(this,function(){"use strict";function t(t,e){e.appendChild(t)}function e(t,e,n){e.insertBefore(t,n)}function n(t){t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function i(t){return document.createTextNode(t)}function o(t){return t?this._state[t]:this._state}function r(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var s=0;s<n.length;s+=1)n[s].call(this,e)}function a(t,e,n){var s=n&&n.defer?this._observers.pre:this._observers.post;return(s[t]||(s[t]=[])).push(e),n&&n.init===!1||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=s[t].indexOf(e);~n&&s[t].splice(n,1)}}}function c(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function u(t,e,n,s){for(var i in e)if(i in n){var o=n[i],r=s[i];if(o!==r||"object"==typeof o){var a=e[i];if(a)for(var c=0;c<a.length;c+=1){var u=a[c];u.__calling||(u.__calling=!0,u.call(t,o,r),u.__calling=!1)}}}}function f(o,r){function a(t){r.onclick(t)}var c=s("button");c.addEventListener("click",a,!1),c.className="sf-button sf-button--"+(o.status||"default")+" "+(o.embossed?"sf-button--embossed":""),c.disabled=o.disabled||!1;var u=i(o.content);return t(u,c),{mount:function(t,n){e(c,t,n)},update:function(t,e){c.className="sf-button sf-button--"+(e.status||"default")+" "+(e.embossed?"sf-button--embossed":""),c.disabled=e.disabled||!1,u.data=e.content},teardown:function(t){c.removeEventListener("click",a,!1),t&&n(c)}}}function l(t){t=t||{},this._state=t.data||{},this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root,this._yield=t._yield,this._fragment=f(this._state,this),t.target&&this._fragment.mount(t.target,null)}var d=function(){return{methods:{onclick:function(t){}}}}();return l.prototype=d.methods,l.prototype.get=o,l.prototype.fire=r,l.prototype.observe=a,l.prototype.on=c,l.prototype.set=function(t){var e=this._state;this._state=Object.assign({},e,t),u(this,this._observers.pre,t,e),this._fragment&&this._fragment.update(t,this._state),u(this,this._observers.post,t,e)},l.prototype.teardown=function(t){this.fire("teardown"),this._fragment.teardown(t!==!1),this._fragment=null,this._state={}},l});
